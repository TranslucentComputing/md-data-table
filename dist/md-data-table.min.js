!function(a,b,c){"use strict";function d(){function a(a){a.addClass("md-body")}return{compile:a,restrict:"A"}}function e(){function a(a){var b=a.find("md-select");return b.length&&b.addClass("md-table-select").attr("md-container-class","md-table-select"),a.addClass("md-cell"),c}function b(){}function c(a,b,c,d){function e(){return i.$$columns[f()]}function f(){return Array.prototype.indexOf.call(b.parent().children(),b[0])}var g=b.find("md-select"),h=d.shift(),i=d.shift();c.ngClick&&b.addClass("md-clickable"),g.length&&(g.on("click",function(a){a.stopPropagation()}),b.addClass("md-clickable").on("click",function(a){a.stopPropagation(),g[0].click()})),h.getTable=i.getElement,a.$watch(e,function(a){a&&(a.numeric?b.addClass("md-numeric"):b.removeClass("md-numeric"))})}return{controller:b,compile:a,require:["mdCell","^^mdTable"],restrict:"A"}}function f(a,c){function d(a){return a.addClass("md-column"),e}function e(d,e,f,g){function h(){var c=b.element('<md-icon md-svg-icon="arrow-up.svg">');a(c.addClass("md-sort-icon").attr("ng-class","getDirection()"))(d),e.hasClass("md-numeric")?e.prepend(c):e.append(c)}function i(){Array.prototype.some.call(e.find("md-icon"),function(a){return a.classList.contains("md-sort-icon")&&e[0].removeChild(a)})}function j(){i(),e.removeClass("md-sort").off("click",o)}function k(){h(),e.addClass("md-sort").on("click",o)}function l(){return Array.prototype.indexOf.call(e.parent().children(),e[0])}function m(){return d.orderBy&&(q.order===d.orderBy||q.order==="-"+d.orderBy)}function n(){return""===f.mdNumeric||d.numeric}function o(){d.$applyAsync(function(){m()?q.order="md-asc"===d.getDirection()?"-"+d.orderBy:d.orderBy:q.order="md-asc"===d.getDirection()?d.orderBy:"-"+d.orderBy,b.isFunction(q.onReorder)&&c.nextTick(function(){q.onReorder(q.order)})})}function p(a,b){r.$$columns[a]=b,b.numeric?e.addClass("md-numeric"):e.removeClass("md-numeric")}var q=g.shift(),r=g.shift();d.getDirection=function(){return m()?"-"===q.order.charAt(0)?"md-desc":"md-asc":""===f.mdDesc||d.$eval(f.mdDesc)?"md-desc":"md-asc"},d.$watch(m,function(a){a?e.addClass("md-active"):e.removeClass("md-active")}),d.$watch(l,function(a){p(a,{numeric:n()})}),d.$watch(n,function(a){p(l(),{numeric:a})}),d.$watch("orderBy",function(a){a?e.hasClass("md-sort")||k():e.hasClass("md-sort")&&j()})}return{compile:d,require:["^^mdHead","^^mdTable"],restrict:"A",scope:{numeric:"=?mdNumeric",orderBy:"@?mdOrderBy"}}}function g(a,c,d){function e(e,f,g,h){var i=h[0],j=h[1],k=b.element("<div></div>");if(k.text(c.startSymbol()+"name"+c.endSymbol()),g.unit&&k.text(k.text()+" ("+c.startSymbol()+"unit"+c.endSymbol()+")"),b.isDefined(g.trim)&&k.contents().wrap("<div></div>"),g.orderBy){var l=b.element("<md-icon></md-icon>"),m=function(){return j.order===e.order||j.order==="-"+e.order},n=function(){m()?e.$apply(j.order=j.order===e.order?"-"+e.order:e.order):e.$apply(j.order=b.isDefined(g.descendFirst)?"-"+e.order:e.order),j.pullTrigger&&d(j.pullTrigger)};e.getDirection=function(){return m()?"-"===j.order[0]?"down":"up":b.isDefined(g.descendFirst)?"down":"up"},l.attr("md-svg-icon","arrow.svg"),l.attr("ng-class","getDirection()"),b.isDefined(g.numeric)?k.prepend(l):k.append(l),f.on("click",n),e.$watch(m,function(a){a?f.addClass("md-active"):f.removeClass("md-active")})}f.append(a(k)(e)),j.isSignificant(f.parent())&&(i.setColumn(g),g.ngRepeat?e.$parent.$last&&i.isReady.head.resolve():i.isLastChild(f.parent().children(),f[0])&&i.isReady.head.resolve())}return{link:e,require:["^^mdDataTable","^mdTableHead"],scope:{name:"@",order:"@orderBy",unit:"@"}}}function h(a){function d(b,c){var d=b.find("thead"),e=b.find("tfoot");if(!d.length){if(d=b.find("tbody").eq(0),!d.children().find("th").length)throw new Error("mdDataTable","Expecting <thead></thead> element.");d.replaceWith("<thead>"+d.html()+"</thead>"),d=b.find("thead")}var f=b.find("tbody").find("tr");d.attr("md-table-head",""),f.attr("md-table-row",""),f.find("td").attr("md-table-cell",""),e.length&&(e.attr("md-table-foot",""),c.mdRowSelect&&e.find("tr").prepend("<td></td>")),f.attr("md-select-row","");var g=a.getAttr(f,"ngRepeat");c.mdRowSelect&&!g&&console.warn("Please use ngRepeat to enable row selection."),d.attr("md-order")&&!g&&console.warn("Column ordering without ngRepeat is not supported.")}function e(d,e,f,g){var h=this;h.columns=[],h.classes=[],h.dirtyItems=[],h.isReady={body:f.defer(),head:f.defer()},d.mdRowSelect&&(h.columns.push({isNumeric:!1}),b.isArray(h.selectedItems)||(h.selectedItems=[],console.warn('md-row-select="'+d.mdRowSelect+'" : '+d.mdRowSelect+" is not defined as an array in your controller, i.e. "+d.mdRowSelect+" = [], two-way data binding will fail."))),d.mdProgress&&g.$watch("$mdDataTableCtrl.progress",function(){var a=h.defer();f.when(h.progress)["finally"](a.resolve)}),["md-primary","md-hue-1","md-hue-2","md-hue-3"].forEach(function(a){e.hasClass(a)&&h.classes.push(a)}),h.defer=function(){return h.deferred?h.deferred.reject("cancel"):h.showProgress&&h.showProgress(),h.deferred=f.defer(),h.deferred.promise.then(h.resolve),h.deferred},h.resolve=function(){h.deferred=c,h.hideProgress&&h.hideProgress()},h.isLastChild=function(a,b){return Array.prototype.indexOf.call(a,b)===a.length-1},h.isReady.body.promise.then(function(a){d.mdRowSelect&&a&&(h.listener=g.$parent.$watch(a.items,function(a,b){a!==b&&(h.selectedItems.splice(0),h.dirtyItems.splice(0))}))}),h.setColumn=function(a){h.columns.push({isNumeric:b.isDefined(a.numeric),unit:a.unit,name:a.name})},h.processEdit=function(c,d,e,f){a.removeDuplicates(h.dirtyItems,c.id);var g={};if(b.copy(c,g),a.updateObject(c,d,e),h.dirtyItems.push({oldItem:g,newItem:c}),"function"==typeof h.rowUpdateCallback)for(var i=h.dirtyItems.length,j=h.rowUpdateCallback(),k=function(){f(l.oldItem)};i--;){var l=h.dirtyItems[i];j(l,k),h.dirtyItems.splice(i,1)}},h.processEditSelect=function(b,c,d){if(a.removeDuplicates(h.dirtyItems,b.id),h.dirtyItems.push({oldItem:c,newItem:b}),"function"==typeof h.rowUpdateCallback)for(var e=h.dirtyItems.length,f=h.rowUpdateCallback();e--;){var g=h.dirtyItems[e];f(g,d),h.dirtyItems.splice(e,1)}}}return e.$inject=["$attrs","$element","$q","$scope"],{bindToController:{progress:"=mdProgress",selectedItems:"=mdRowSelect",rowUpdateCallback:"&mdRowUpdateCallback",rowClick:"=mdRowClick",hasAccess:"@"},compile:d,controller:e,controllerAs:"$mdDataTableCtrl",restrict:"A",scope:{}}}function i(){function a(a,b){var c=b.find("md-select");c.length&&(c.on("click",function(a){a.stopPropagation()}),b.addClass("clickable").on("click",function(a){a.stopPropagation(),c[0].click()}))}function b(b){return b.find("md-select").attr("md-container-class","md-table-select"),a}return{compile:b}}function j(){function a(a,b,c,d){var e=b.find("td");d.columns.forEach(function(a,b){a.isNumeric&&e.eq(b).addClass("numeric")}),e.length<d.columns.length&&b.find("tr").append('<td colspan="'+(d.columns.length-e.length)+'"></td>')}return{require:"^mdDataTable",link:a}}function k(a,c){function d(c){if(c.find("th").attr("md-column-header",""),c.parent().attr("md-row-select")){var d=a.getAttr(c.parent().find("tbody").find("tr"),"ngRepeat");d&&c.find("tr").prepend(b.element('<th md-select-all="'+a.parse(d).items+'"></th>'))}return c.after("<thead md-table-progress></thead>"),f}function e(a,b){var c=a.find("tr");(!b.sigRow||parseInt(b.sigRow,10)===isNaN()||b.sigRow<0)&&(b.sigRow=c.length-1),this.isSignificant=function(a){return a.prop("rowIndex")===b.sigRow}}function f(a,d,e,f){var g=d.data("$mdTableHeadController");b.isFunction(a.trigger)&&(g.pullTrigger=function(){var b=f.defer();c.when(a.trigger(g.order))["finally"](b.resolve)})}return e.$inject=["$element","$scope"],{bindToController:{order:"=mdOrder"},compile:d,controller:e,controllerAs:"$mdDataTableHeadCtrl",require:"^mdDataTable",scope:{trigger:"=?mdTrigger",sigRow:"=?"}}}function l(a){function c(c,d,e){if(c.paginationLabel={text:"Rows per page:",of:"of"},b.isObject(c.label)&&b.extend(c.paginationLabel,c.label),b.isFunction(c.trigger)){var f=function(a,c){for(;"md-data-table-container"!==a.localName&&a.previousElementSibling;)a=a.previousElementSibling;c(b.element(a.firstElementChild))},g=function(b){var d=b.controller("mdDataTable");return d?void(c.pullTrigger=function(){var b=d.defer();a.when(c.trigger(c.page,c.limit))["finally"](b.resolve)}):console.warn("Table Pagination: Could not locate your table directive, your "+e.mdTrigger+" function will not work.")};f(d.prop("previousElementSibling"),g)}c.$watch("data",function(a){a&&(c.total=a.length)})}function d(a,b){var c=1;a.hasNext=function(){return a.page*a.limit<a.total},a.hasPrevious=function(){return a.page>1},a.next=function(){a.page++,a.pullTrigger&&b(a.pullTrigger),c=a.min()},a.last=function(){a.page=Math.ceil(a.total/a.limit),a.pullTrigger&&b(a.pullTrigger),c=a.min()},a.min=function(){return(a.page-1)*a.limit+1},a.max=function(){return a.hasNext()?a.page*a.limit:a.total},a.onSelect=function(){for(a.page=Math.floor(c/a.limit)+1,a.pullTrigger&&b(a.pullTrigger),c=a.min();c>a.total&&a.hasPrevious();)a.previous()},a.previous=function(){a.page--,a.pullTrigger&&b(a.pullTrigger),c=a.min()},a.first=function(){a.page=1,a.pullTrigger&&b(a.pullTrigger),c=a.min()}}return d.$inject=["$scope","$timeout"],{controller:d,scope:{label:"=mdLabel",limit:"=mdLimit",page:"=mdPage",data:"=mdData",rowSelect:"=mdRowSelect",total:"@mdTotal",trigger:"=mdTrigger",showRowSelection:"=mdShowRowSelection",showFirstLast:"=mdShowFirstLast"},templateUrl:"md-data-table-pagination.html",link:c}}function m(a,c){function d(d,e,f,g){b.isDefined(f.mdSelectRow)&&(d.mdClasses=g.classes,d.isDisabled=function(){return d.$eval(f.mdDisableSelect)},d.isSelected=function(a){return-1!==g.selectedItems.indexOf(a)},d.toggleRow=function(a,b){b.stopPropagation(),d.isDisabled()||(d.isSelected(a)?g.selectedItems.splice(g.selectedItems.indexOf(a),1):g.selectedItems.push(a))},d.clickRow=function(a,b){b.stopPropagation(),d.isDisabled()||"function"==typeof g.rowClick&&g.rowClick(a)}),f.ngRepeat?d.$last&&g.isReady.body.resolve(a.parse(f.ngRepeat)):g.isLastChild(e.parent().children(),e[0])&&g.isReady.body.resolve(),g.isReady.head.promise.then(function(){g.columns.forEach(function(a,d){if(a.isNumeric){var f=e.children().eq(d);f.addClass("numeric"),b.isDefined(f.attr("show-unit"))&&c(function(){f.text(f.text()+g.columns[d].unit)})}})})}return{link:d,require:"^^mdDataTable"}}function n(){function a(a){for(this._tokens=a.split(/\s+/),this._iterator=0,this.item=this.current();this.hasNext()&&"in"!==this.getNext();)this.item+=this.current();for(this.items=this.getNext();this.hasNext()&&-1===["|","track"].indexOf(this.getNext());)this.items+=this.current()}function c(a,b){for(var c=a.prop("attributes"),e=0;e<c.length;e++)if(d(c.item(e).name)===b)return c.item(e).value;return""}function d(a){var b=a.replace(/^((?:x|data)[\:\-_])/i,"").split(/[\:\-_]/),c=b.shift();return b.forEach(function(a){c+=a.charAt(0).toUpperCase()+a.slice(1)}),c}function e(b){return h.hasOwnProperty(b)?h[b]:h[b]=new a(b)}function f(a,c){a.length>0&&b.forEach(a,function(b,d){return b.id===c?(a.splice(d,1),!1):void 0})}function g(a,b,c){if("string"==typeof b&&(b=b.split("."),b.shift()),b.length>1){var d=b.shift();g(a[d]="[object Object]"===Object.prototype.toString.call(a[d])?a[d]:{},b,c)}else a[b[0]]=c}var h={};return a.prototype.current=function(){return this._tokens[this._iterator]},a.prototype.getNext=function(){return this._tokens[++this._iterator]},a.prototype.getValue=function(){return this._tokens.join(" ")},a.prototype.hasNext=function(){return this._iterator<this._tokens.length-1},{getAttr:c,normalize:d,parse:e,removeDuplicates:f,updateObject:g}}function o(a){return function(c,d,e,f){if(e&&"object"==typeof e){var g=a(c,d,!0,f);return b.extend(g.instance,e),g()}return a(c,d,e,f)}}function p(a,c,d,e,f,g,h,i,j){function k(c,d){var f,h=g.$new(),i=a(c)(h),j=e.createBackdrop(h,"md-edit-dialog-backdrop");return d.controller?f=m(d,h,{$element:i,$scope:h}):b.extend(h,d.scope),d.disableScroll&&l(i),v.prepend(j).append(i.addClass("md-whiteframe-1dp")),r(i,d.target),d.focusOnOpen&&q(i),d.clickOutsideToClose&&j.on("click",function(){i.remove()}),d.escToClose&&p(i),i.on("$destroy",function(){u=!1,j.remove()}),f}function l(a){var b=e.disableScrollAround(a,v);a.on("$destroy",function(){b()})}function m(a,d,e){return a.controller?(a.resolve&&b.extend(e,a.resolve),a.locals&&b.extend(e,a.locals),a.controllerAs?(d[a.controllerAs]={},a.bindToController?b.extend(d[a.controllerAs],a.scope):b.extend(d,a.scope)):b.extend(d,a.scope),a.bindToController?c(a.controller,e,d[a.controllerAs]):c(a.controller,e)):void 0}function n(a){return f(function(c,d){function e(a){d("Unexpected template value. Expected a string; received a "+a+".")}var f=a.template;if(f)return b.isString(f)?c(f):e(typeof f);if(a.templateUrl){if(f=h.get(a.templateUrl))return c(f);var g=function(a){return c(a)},j=function(){return d("Error retrieving template from URL.")};return i(a.templateUrl).then(g,j)}d("Template not provided.")})}function o(a){u=!1,console.error(a)}function p(a){var b=function(b){b.keyCode===t&&a.remove()};v.on("keyup",b),a.on("$destroy",function(){v.off("keyup",b)})}function q(a){e.nextTick(function(){var b=e.findFocusTarget(a);b&&b.focus()},!1)}function r(a,c){var d=b.element(c).controller("mdCell").getTable(),e=function(){return a.prop("clientHeight")},f=function(){return{width:i(),height:e()}},h=function(){var a=d.parent();return"MD-TABLE-CONTAINER"===a.prop("tagName")?a[0].getBoundingClientRect():d[0].getBoundingClientRect()},i=function(){return a.prop("clientWidth")},k=function(){var b=f(),d=c.getBoundingClientRect(),e=h();b.width>e.right-d.left?a.css("left",e.right-b.width+"px"):a.css("left",d.left+"px"),b.height>e.bottom-d.top?a.css("top",e.bottom-b.height+"px"):a.css("top",d.top+1+"px"),a.css("minWidth",d.width+"px")},l=g.$watch(i,k),m=g.$watch(e,k);j.addEventListener("resize",k),a.on("$destroy",function(){l(),m(),j.removeEventListener("resize",k)})}function s(a,c){function d(){var a='type="'+(c.type||"text")+'"';for(var b in c.validators)a+=" "+b+'="'+c.validators[b]+'"';return a}return{controller:["$element","$q","save","$scope",function(a,c,d,e){function f(){return e.editDialog.$invalid?c.reject():b.isFunction(d)?c.when(d(e.editDialog.input)):c.resolve()}this.dismiss=function(){a.remove()},this.getInput=function(){return e.editDialog.input},e.dismiss=this.dismiss,e.submit=function(){f().then(function(){e.dismiss()})}}],locals:{save:c.save},scope:{cancel:c.cancel||"Cancel",messages:c.messages,model:c.modelValue,ok:c.ok||"Save",placeholder:c.placeholder,title:c.title,size:a},template:'<md-edit-dialog><div layout="column" class="md-content"><div ng-if="size === \'large\'" class="md-title">{{title || \'Edit\'}}</div><form name="editDialog" layout="column" ng-submit="submit(model)"><md-input-container md-no-float><input name="input" ng-model="model" md-autofocus placeholder="{{placeholder}} "'+d()+'><div ng-messages="editDialog.input.$error"><div ng-repeat="(key, message) in messages" ng-message="{{key}}">{{message}}</div></div></md-input-container></form></div><div ng-if="size === \'large\'" layout="row" layout-align="end" class="md-actions"><md-button class="md-primary" ng-click="dismiss()">{{cancel}}</md-button><md-button class="md-primary" ng-click="submit()">{{ok}}</md-button></div></md-edit-dialog>'}}var t=27,u=!1,v=b.element(d.prop("body")),w={clickOutsideToClose:!0,disableScroll:!0,escToClose:!0,focusOnOpen:!0};return this.show=function(a){if(u)return f.reject();if(u=!0,a=b.extend({},w,a),!a.targetEvent)return o("options.targetEvent is required to align the dialog with the table cell.");if(!a.targetEvent.currentTarget.classList.contains("md-cell"))return o("The event target must be a table cell.");if(a.bindToController&&!a.controllerAs)return o("You must define options.controllerAs when options.bindToController is true.");a.target=a.targetEvent.currentTarget;var c=n(a),d=[c];for(var e in a.resolve)c=a.resolve[e],d.push(f.when(b.isFunction(c)?c():c));return c=f.all(d),c["catch"](o),c.then(function(b){var c=b.shift();for(var d in a.resolve)a.resolve[d]=b.shift();return k(c,a)})},this.small=function(a){return this.show(b.extend({},a,s("small",a)))}.bind(this),this.large=function(a){return this.show(b.extend({},a,s("large",a)))}.bind(this),this}function q(a,c,d,e,f,g,h,i,j,k){a.editModel={},a.fieldRequired=f||!1,a.editType=d,a.fieldMaxLength=e,i&&i instanceof Date&&(a.fieldMinDate=i),h&&h instanceof Date&&(a.fieldMaxDate=h),"date"!==d||!j||j instanceof Date?a.editModel.data=j:a.editModel.data=k(j,g).toDate(),a.close=function(){c.hide()},a.save=function(){var d,e,f;d=b.element('form[name="inlineEditForm"]'),"date"===a.editType?(e=d.find("input").val(),f=k(e,a.dateFormat).toDate(),c.hide({data:f})):c.hide({data:a.editModel.data})}}function r(a,c,d){function e(a,b){var c=a.parent(),e=d.parse(d.getAttr(c,"ngRepeat"));return b.$set("rowData",e.item),f}function f(c,e,f,g){e.on("click",function(h){if(h.stopPropagation(),"false"!==g.hasAccess&&"true"!==c.mdEditableDisabled){var i=e.parent();if(!c.$parent.$eval(d.getAttr(i,"mdDisableSelect"))){var j,k=f.mdEditable,l=c.rowData;b.isObject(c.data)?(j={},b.copy(c.data,j)):j=c.data,a.show({controller:"EditDialogController",locals:{editType:k,dateFormat:c.dateFormat,fieldMinDate:c.fieldMinDate,fieldMaxDate:c.fieldMaxDate,fieldMaxLength:c.fieldMaxLength,fieldRequired:c.fieldRequired,data:c.data},templateUrl:"templates.md-data-table-edit.html",parent:b.element(document.body),targetEvent:h,clickOutsideToClose:!0}).then(function(a){b.isUndefined(a)||(c.data=a.data,g.processEdit(l,f.data,c.data,function(a){c.rowData=a,c.data=j}))},function(){console.log("Error hiding edit dialog.")})}}})}return{compile:e,require:"^^mdDataTable",restrict:"A",scope:{rowData:"=",data:"=",dateFormat:"@",mdEditableDisabled:"@",fieldMinDate:"=",fieldMaxDate:"=",fieldMaxLength:"@",fieldRequired:"@"}}}function s(){function a(a){a.addClass("md-foot")}return{compile:a,restrict:"A"}}function t(a){function c(a){return a.addClass("md-head"),e}function d(){}function e(c,d,e,f){function g(){d.children().prepend('<th class="md-column md-checkbox-column">')}function h(){d.prop("lastElementChild").firstElementChild.appendChild(a(i())(c)[0])}function i(){return b.element("<md-checkbox>").attr({"aria-label":"Select All","ng-click":"toggleAll()","ng-checked":"allSelected()","ng-disabled":"!getSelectableRows().length"})}function j(){var a=d.prop("lastElementChild").firstElementChild;a.classList.contains("md-checkbox-column")&&b.element(a).empty()}function k(){return f.$$rowSelect}function l(a){return b.element(a).controller("mdSelect")}function m(){Array.prototype.some.call(d.find("th"),function(a){return a.classList.contains("md-checkbox-column")&&a.remove()})}var n=new Array(2);c.allSelected=function(){var a=c.getSelectableRows();return a.length&&a.every(function(a){return a.isSelected()})},c.getSelectableRows=function(){return f.getBodyRows().map(l).filter(function(a){return a&&!a.disabled})},c.selectAll=function(){f.getBodyRows().map(l).forEach(function(a){a&&!a.isSelected()&&a.select()})},c.toggleAll=function(){return c.allSelected()?c.unSelectAll():c.selectAll()},c.unSelectAll=function(){f.getBodyRows().map(l).forEach(function(a){a&&a.isSelected()&&a.deselect()})},c.$watchGroup([k,f.enableMultiSelect],function(a){a[0]!==n[0]?a[0]?(g(),a[1]&&h()):m():a[0]&&a[1]!==n[1]&&(a[1]?h():j()),b.copy(a,n)})}return{bindToController:!0,compile:c,controller:d,controllerAs:"$mdHead",require:"^^mdTable",restrict:"A",scope:{order:"=?mdOrder",onReorder:"=?mdOnReorder"}}}function u(){function a(a){return a.addClass("md-row"),c}function c(a,c,d,e){function f(){return e.$$rowSelect}function g(){return-1!==e.getBodyRows().indexOf(c[0])}function h(a){return c[0].contains(a[0])}if(g()){var i=b.element('<td class="md-cell">');a.$watch(f,function(a){return a&&!d.mdSelect?void(h(i)||c.prepend(i)):void(h(i)&&i.remove())})}}return{compile:a,require:"^^mdTable",restrict:"A"}}function v(a,c){function d(){}function e(d,e,f,g){function h(){return""===f.mdAutoSelect||o.autoSelect}function i(){var c=b.element("<md-checkbox>").attr({"aria-label":"Select Row","ng-click":"$mdSelect.toggle($event)","ng-checked":"$mdSelect.isSelected()","ng-disabled":"$mdSelect.disabled"});return b.element('<td class="md-cell md-checkbox-cell">').append(a(c)(d))}function j(){Array.prototype.some.call(e.children(),function(a){return a.classList.contains("md-checkbox-cell")&&e[0].removeChild(a)}),h()&&e.off("click",n)}function k(){e.prepend(i()),h()&&e.on("click",n)}function l(){return p.$$rowSelect}function m(a){return o.id?p.$$hash.has(o.id)?void(-1===a.indexOf(p.$$hash.get(o.id))&&p.$$hash.purge(o.id)):void(-1!==a.indexOf(o.model)&&p.$$hash.update(o.id,o.model)):void 0}function n(a){d.$applyAsync(function(){o.toggle(a)})}var o=g.shift(),p=g.shift(),q=c(f.mdSelectId);if(o.id=q(o.model),p.$$rowSelect&&o.id)if(p.$$hash.has(o.id)){var r=p.selected.indexOf(p.$$hash.get(o.id));-1===r?p.$$hash.purge(o.id):p.$$hash.equals(o.id,o.model)||(p.$$hash.update(o.id,o.model),p.selected.splice(r,1,o.model))}else p.selected.some(function(a,b){return q(a)===o.id?(p.$$hash.update(o.id,o.model),p.selected.splice(b,1,o.model),!0):void 0});o.isSelected=function(){return p.$$rowSelect?o.id?p.$$hash.has(o.id):-1!==p.selected.indexOf(o.model):!1},o.select=function(){o.disabled||(p.enableMultiSelect()?p.selected.push(o.model):p.selected.splice(0,p.selected.length,o.model),b.isFunction(o.onSelect)&&o.onSelect(o.model))},o.deselect=function(){o.disabled||(p.selected.splice(p.selected.indexOf(o.model),1),b.isFunction(o.onDeselect)&&o.onDeselect(o.model))},o.toggle=function(a){return a&&a.stopPropagation&&a.stopPropagation(),o.isSelected()?o.deselect():o.select()},d.$watch(l,function(a){a?k():j()}),d.$watch(h,function(a,b){a!==b&&(p.$$rowSelect&&a?e.on("click",n):e.off("click",n))}),d.$watch(o.isSelected,function(a){return a?e.addClass("md-selected"):e.removeClass("md-selected")}),d.$watch(p.enableMultiSelect,function(a){p.$$rowSelect&&!a&&p.selected.splice(1)}),p.registerModelChangeListener(m),e.on("$destroy",function(){p.removeModelChangeListener(m)})}return{bindToController:!0,controller:d,controllerAs:"$mdSelect",link:e,require:["mdSelect","^^mdTable"],restrict:"A",scope:{model:"=mdSelect",disabled:"=ngDisabled",onSelect:"=?mdOnSelect",onDeselect:"=?mdOnDeselect",autoSelect:"=mdAutoSelect"}}}function w(){function a(a){var c=b.element("<md-checkbox></md-checkbox>");c.attr("aria-label","Select All"),c.attr("ng-click","toggleAll()"),c.attr("ng-class","mdClasses"),c.attr("ng-checked","allSelected()"),c.attr("ng-disabled","!getCount()"),a.append(c)}function c(a,b,c,d){var e=0,f=function(){return a.items.filter(function(a){return!d.isDisabled(a)})};d.isReady.body.promise.then(function(){a.mdClasses=d.classes,a.getCount=function(){return e=a.items?a.items.reduce(function(a,b){return d.isDisabled(b)?a:++a},0):0},a.allSelected=function(){return e&&e===d.selectedItems.length},a.toggleAll=function(){var b=f(a.items);b.length===d.selectedItems.length?d.selectedItems.splice(0):d.selectedItems=b}})}return{link:c,require:"^^mdDataTable",scope:{items:"=mdSelectAll"},template:a}}function x(a){function c(c,d){var e=a.parse(d.ngRepeat);if(!b.isDefined(d.mdNoCheckbox)){var f=b.element("<md-checkbox></md-checkbox>");f.attr("aria-label","Select Row"),f.attr("ng-click","toggleRow("+e.item+", $event)"),f.attr("ng-class","mdClasses"),f.attr("ng-checked","isSelected("+e.item+")"),d.mdDisableSelect&&f.attr("ng-disabled","isDisabled()"),c.prepend(b.element("<td></td>").append(f)),b.isDefined(d.mdAutoSelect)&&d.$set("ngClick","toggleRow("+e.item+", $event)"),d.$set("ngClass","{'md-selected': isSelected("+e.item+")}")}b.isDefined(d.mdNoSelect)&&d.$set("ngClick","clickRow("+e.item+", $event)")}function d(c,d,e,f){var g={},h=a.parse(e.ngRepeat);b.isFunction(c.isDisabled)||(c.isDisabled=function(){return!1}),f.isDisabled=function(a){return g[h.item]=a,c.isDisabled(g)}}return{link:d,priority:1001,require:"^^mdDataTable",scope:{isDisabled:"&?mdDisableSelect"},template:c}}function y(){return{restrict:"A",require:"^^mdDataTable",link:function(a,d,e,f){a.enableOnChange=!1;var g={};a.$watch(e.ngModel,function(d){if(a.enableOnChange&&d!==c){a.enableOnChange=!1;var h=a[e.ngModel.split(".")[0]];f.processEditSelect(h,g,function(){b.copy(g,a[e.ngModel.split(".")[0]])})}}),d.on("click",function(){a.enableOnChange||(a.enableOnChange=!0),b.copy(a[e.ngModel.split(".")[0]],g)})}}}function z(){var a={};this.equals=function(b,c){return a[b]===c},this.get=function(b){return a[b]},this.has=function(b){return a.hasOwnProperty(b)},this.purge=function(b){delete a[b]},this.update=function(b,c){a[b]=c}}function A(){function a(a,c){if(a.addClass("md-table"),c.hasOwnProperty("mdProgress")){var d=a.find("tbody")[0],e=b.element('<thead class="md-table-progress">');d&&a[0].insertBefore(e[0],d)}}function c(a,c,d,e){function f(){l.$$rowSelect=!0,k=e.$watchCollection("$mdTable.selected",function(a){n.forEach(function(b){b(a)})}),c.addClass("md-row-select")}function g(){l.$$rowSelect=!1,b.isFunction(k)&&k(),c.removeClass("md-row-select")}function h(){return m.length?void m[0]["finally"](function(){m.shift(),h()}):e.$applyAsync()}function i(){return""===a.mdRowSelect||l.rowSelect}function j(){return l.selected?b.isArray(l.selected)?!0:console.error("Row selection: Expected an array. Recived "+typeof l.selected+"."):console.error("Row selection: ngModel is not defined.")}var k,l=this,m=[],n=[];l.$$hash=new z,l.$$columns={},l.columnCount=function(){return l.getRows(c[0]).reduce(function(a,b){return b.cells.length>a?b.cells.length:a},0)},l.getRows=function(a){return Array.prototype.filter.call(a.rows,function(a){return!a.classList.contains("ng-leave")})},l.getBodyRows=function(){return Array.prototype.reduce.call(c.prop("tBodies"),function(a,b){return a.concat(l.getRows(b))},[])},l.getElement=function(){return c},l.getHeaderRows=function(){return l.getRows(c.prop("tHead"))},l.enableMultiSelect=function(){return""===a.multiple||e.$eval(a.multiple)},l.waitingOnPromise=function(){return!!m.length},l.queuePromise=function(a){a&&1===m.push(b.isArray(a)?d.all(a):d.when(a))&&h()},l.registerModelChangeListener=function(a){n.push(a)},l.removeModelChangeListener=function(a){var b=n.indexOf(a);-1!==b&&n.splice(b,1)},a.hasOwnProperty("mdProgress")&&e.$watch("$mdTable.progress",l.queuePromise),e.$watch(i,function(a){a&&j()?f():g()})}return c.$inject=["$attrs","$element","$q","$scope"],{bindToController:!0,compile:a,controller:c,controllerAs:"$mdTable",restrict:"A",scope:{progress:"=?mdProgress",selected:"=ngModel",rowSelect:"=mdRowSelect"}}}function B(){function a(a){a.addClass("md-table-pagination")}function c(a,c,d){function e(a){return parseInt(a,10)>0}var f=this,g={page:"Page:",rowsPerPage:"Rows per page:",of:"of"};f.label=b.copy(g),f.eval=function(a){return d.$eval(a)},f.first=function(){f.page=1,f.onPaginationChange()},f.hasNext=function(){return f.page*f.limit<f.total},f.hasPrevious=function(){return f.page>1},f.last=function(){f.page=f.pages(),f.onPaginationChange()},f.max=function(){return f.hasNext()?f.page*f.limit:f.total},f.min=function(){return e(f.total)?f.page*f.limit-f.limit+1:0},f.next=function(){f.page++,f.onPaginationChange()},f.onPaginationChange=function(){b.isFunction(f.onPaginate)&&c.nextTick(function(){f.onPaginate(f.page,f.limit)})},f.pages=function(){return e(f.total)?Math.ceil(f.total/(e(f.limit)?f.limit:1)):1},f.previous=function(){f.page--,f.onPaginationChange()},f.showBoundaryLinks=function(){return""===a.mdBoundaryLinks||f.boundaryLinks},f.showPageSelect=function(){return""===a.mdPageSelect||f.pageSelect},d.$watch("$pagination.limit",function(a,b){isNaN(a)||isNaN(b)||a===b||(f.page=Math.floor((f.page*b-b+a)/(e(a)?a:1)),f.onPaginationChange())}),a.$observe("mdLabel",function(a){b.extend(f.label,g,d.$eval(a))}),d.$watch("$pagination.total",function(a,b){isNaN(a)||a===b||f.page>f.pages()&&f.last()})}return c.$inject=["$attrs","$mdUtil","$scope"],{bindToController:{boundaryLinks:"=?mdBoundaryLinks",disabled:"=ngDisabled",limit:"=mdLimit",page:"=mdPage",pageSelect:"=?mdPageSelect",onPaginate:"=?mdOnPaginate",limitOptions:"=?mdLimitOptions",total:"@mdTotal"},compile:a,controller:c,controllerAs:"$pagination",restrict:"E",scope:{},templateUrl:"md-table-pagination.html"}}function C(){function a(a,b,c,d){a.columnCount=d.columnCount,a.deferred=d.waitingOnPromise}return{link:a,require:"^^mdTable",restrict:"C",scope:{},templateUrl:"md-table-progress.html"}}function D(){function a(a,b){function c(a,b){return Math.min(a,isFinite(b)&&d(b)?b:1)}function d(a){return a>0}function e(a){if(f.pages.length>a)return f.pages.splice(a);for(var b=f.pages.length;a>b;b++)f.pages.push(b+1)}var f=this,g=a.find("md-content");f.pages=[],g.on("scroll",function(){g.prop("clientHeight")+g.prop("scrollTop")>=g.prop("scrollHeight")&&b.$applyAsync(function(){e(c(f.pages.length+10,f.total))})}),b.$watch("$pageSelect.total",function(a){e(c(Math.max(f.pages.length,10),a))}),b.$watch("$pagination.page",function(a){for(var b=f.pages.length;a>b;b++)f.pages.push(b+1)})}return a.$inject=["$element","$scope"],{bindToController:{total:"@"},controller:a,controllerAs:"$pageSelect"}}b.module("md.table.templates",["md-data-table-edit.html","md-data-table-pagination.html","md-data-table-progress.html","md-table-pagination.html","md-table-progress.html","arrow-up.svg","arrow.svg","navigate-before.svg","navigate-first.svg","navigate-last.svg","navigate-next.svg"]),b.module("md-data-table-edit.html",[]).run(["$templateCache",function(a){a.put("md-data-table-edit.html",'<md-dialog aria-label="Edit" ng-cloak>\n    <form name="inlineEditForm" novalidate>\n        <md-toolbar>\n            <div class="md-toolbar-tools">\n                <h2>Edit</h2>\n            </div>\n        </md-toolbar>\n        <md-dialog-content style="width:300px;max-width:800px;max-height:220px;" layout="column"\n                           layout-align="center center">\n            <div class="md-dialog-content">\n                <div ng-switch on="editType">\n                    <div ng-switch-when="date">\n                        <md-datepicker name="dateField"\n                                       ng-model="editModel.data"\n                                       ng-required="fieldRequired"\n                                       md-max-date="fieldMaxDate"\n                                       md-min-date="fieldMinDate"\n                                       md-placeholder="Enter date"\n                                       aria-label="date"></md-datepicker>\n\n                        <div class="validation-messages" ng-messages="inlineEditForm.dateField.$error"\n                             ng-if="inlineEditForm.dateField.$error">\n                            <div ng-message="required">You did not enter a field</div>\n                            <div ng-message="maxdate">Date is too late!</div>\n                            <div ng-message="mindate">Date is too early!</div>\n                        </div>\n                    </div>\n                    <div ng-switch-when="note">\n                        <md-input-container class="md-block">\n                                <textarea name="textareaField"\n                                          aria-label="textarea"\n                                          ng-model="editModel.data"\n                                          md-maxlength="{{fieldMaxLength}}"\n                                          rows="5"\n                                          ng-required="fieldRequired"\n                                          style="overflow-y: auto;width:250px;"\n                                >\n                                </textarea>\n\n                            <div ng-messages="inlineEditForm.textareaField.$error"\n                                 ng-if="inlineEditForm.textareaField.$error">\n                                <div ng-message="required">You did not enter a field</div>\n                                <div ng-message="md-maxlength">Your field is too long</div>\n                            </div>\n                        </md-input-container>\n                    </div>\n                    <div ng-switch-default>\n                        <md-input-container>\n                            <input name="inputField"\n                                   ng-model="editModel.data"\n                                   type="{{editType}}"\n                                   md-maxlength="{{fieldMaxLength}}"\n                                   ng-required="fieldRequired"\n                                   aria-label="input">\n\n                            <div ng-messages="inlineEditForm.inputField.$error"\n                                 ng-if="inlineEditForm.inputField.$error">\n                                <div ng-message="required">You did not enter a field</div>\n                                <div ng-message="md-maxlength">Your field is too long</div>\n                            </div>\n                        </md-input-container>\n                    </div>\n                </div>\n            </div>\n            <!--pre>\n                dateField.$error = {{ inlineEditForm.dateField.$error | json }}\n                textareaField.$error = {{ inlineEditForm.textareaField.$error | json }}\n                inputField.$error = {{ inlineEditForm.inputField.$error | json }}\n            </pre-->\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n            <span flex></span>\n            <md-button ng-click="close()">Cancel</md-button>\n            <md-button class="md-raised md-primary" ng-disabled="inlineEditForm.$invalid" ng-click="save()">Save\n            </md-button>\n        </md-dialog-actions>\n    </form>\n</md-dialog>');
}]),b.module("md-data-table-pagination.html",[]).run(["$templateCache",function(a){a.put("md-data-table-pagination.html",'<div>\n  <span class="label" ng-show="showRowSelection">{{paginationLabel.text}}</span>\n  <md-select ng-show="showRowSelection" ng-model="limit" md-container-class="md-pagination-select" ng-change="onSelect()" aria-label="Row Count" placeholder="{{rowSelect ? rowSelect[0] : 5}}">\n    <md-option ng-repeat="rows in rowSelect ? rowSelect : [5, 10, 15]" ng-value="rows">{{rows}}</md-option>\n  </md-select>\n  <span>{{min()}} - {{max()}} {{paginationLabel.of}} {{total}}</span>\n</div>\n<div>\n  <md-button ng-show="showFirstLast" type="button" ng-click="first()" ng-disabled="!hasPrevious()" aria-label="First">\n    <md-icon md-svg-icon="navigate-first.svg"></md-icon>\n  </md-button>\n  <md-button type="button" ng-click="previous()" ng-disabled="!hasPrevious()" aria-label="Previous">\n    <md-icon md-svg-icon="navigate-before.svg"></md-icon>\n  </md-button>\n  <md-button type="button" ng-click="next()" ng-disabled="!hasNext()" aria-label="Next">\n    <md-icon md-svg-icon="navigate-next.svg"></md-icon>\n  </md-button>\n  <md-button ng-show="showFirstLast" type="button" ng-click="last()" ng-disabled="!hasNext()" aria-label="Last">\n    <md-icon md-svg-icon="navigate-last.svg"></md-icon>\n  </md-button>\n</div>\n')}]),b.module("md-data-table-progress.html",[]).run(["$templateCache",function(a){a.put("md-data-table-progress.html",'<thead ng-if="showProgress">\n  <tr>\n    <th colspan="{{columnCount}}">\n      <md-progress-linear md-mode="indeterminate"></md-progress-linear>\n    </th>\n  </tr>\n</thead>')}]),b.module("md-table-pagination.html",[]).run(["$templateCache",function(a){a.put("md-table-pagination.html",'<div class="page-select" ng-if="$pagination.showPageSelect()">\n  <div class="label">{{$pagination.label.page}}</div>\n\n  <md-select virtual-page-select total="{{$pagination.pages()}}" class="md-table-select" ng-model="$pagination.page" md-container-class="md-pagination-select" ng-change="$pagination.onPaginationChange()" ng-disabled="$pagination.disabled" aria-label="Page">\n    <md-content>\n      <md-option ng-repeat="page in $pageSelect.pages" ng-value="page">{{page}}</md-option>\n    </md-content>\n  </md-select>\n</div>\n\n<div class="limit-select" ng-if="$pagination.limitOptions">\n  <div class="label">{{$pagination.label.rowsPerPage}}</div>\n\n  <md-select class="md-table-select" ng-model="$pagination.limit" md-container-class="md-pagination-select" ng-disabled="$pagination.disabled" aria-label="Rows" placeholder="{{ $pagination.limitOptions[0] }}">\n    <md-option ng-repeat="option in $pagination.limitOptions" ng-value="option.value ? $pagination.eval(option.value) : option">{{::option.label ? option.label : option}}</md-option>\n  </md-select>\n</div>\n\n<div class="buttons">\n  <div class="label">{{$pagination.min()}} - {{$pagination.max()}} {{$pagination.label.of}} {{$pagination.total}}</div>\n\n  <md-button class="md-icon-button" type="button" ng-if="$pagination.showBoundaryLinks()" ng-click="$pagination.first()" ng-disabled="$pagination.disabled || !$pagination.hasPrevious()" aria-label="First">\n    <md-icon md-svg-icon="navigate-first.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-click="$pagination.previous()" ng-disabled="$pagination.disabled || !$pagination.hasPrevious()" aria-label="Previous">\n    <md-icon md-svg-icon="navigate-before.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-click="$pagination.next()" ng-disabled="$pagination.disabled || !$pagination.hasNext()" aria-label="Next">\n    <md-icon md-svg-icon="navigate-next.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-if="$pagination.showBoundaryLinks()" ng-click="$pagination.last()" ng-disabled="$pagination.disabled || !$pagination.hasNext()" aria-label="Last">\n    <md-icon md-svg-icon="navigate-last.svg"></md-icon>\n  </md-button>\n</div>')}]),b.module("md-table-progress.html",[]).run(["$templateCache",function(a){a.put("md-table-progress.html",'<tr>\n  <th colspan="{{columnCount()}}">\n    <md-progress-linear ng-show="deferred()" md-mode="indeterminate"></md-progress-linear>\n  </th>\n</tr>')}]),b.module("arrow-up.svg",[]).run(["$templateCache",function(a){a.put("arrow-up.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>')}]),b.module("arrow.svg",[]).run(["$templateCache",function(a){a.put("arrow.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path d="M3,9 L4.06,10.06 L8.25,5.87 L8.25,15 L9.75,15 L9.75,5.87 L13.94,10.06 L15,9 L9,3 L3,9 L3,9 Z"/></svg>')}]),b.module("navigate-before.svg",[]).run(["$templateCache",function(a){a.put("navigate-before.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>')}]),b.module("navigate-first.svg",[]).run(["$templateCache",function(a){a.put("navigate-first.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 6 v12 h2 v-12 h-2z M17.41 7.41L16 6l-6 6 6 6 1.41-1.41L12.83 12z"/></svg>')}]),b.module("navigate-last.svg",[]).run(["$templateCache",function(a){a.put("navigate-last.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 6 v12 h2 v-12 h-2z M8 6L6.59 7.41 11.17 12l-4.58 4.59L8 18l6-6z"/></svg>')}]),b.module("navigate-next.svg",[]).run(["$templateCache",function(a){a.put("navigate-next.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>')}]),b.module("md.data.table",["md.table.templates"]),b.module("md.data.table").directive("mdBody",d),b.module("md.data.table").directive("mdCell",e),b.module("md.data.table").directive("mdColumn",f),f.$inject=["$compile","$mdUtil"],b.module("md.data.table").directive("mdColumnHeader",g),g.$inject=["$compile","$interpolate","$timeout"],b.module("md.data.table").directive("mdDataTable",h),h.$inject=["$mdTable"],b.module("md.data.table").directive("mdTableCell",i),b.module("md.data.table").directive("mdTableFoot",j),b.module("md.data.table").directive("mdTableHead",k),k.$inject=["$mdTable","$q"],b.module("md.data.table").filter("mdStartFrom",function(){return function(a,b){return a&&a.length?(b=+b,a.slice(b)):void 0}}).directive("mdDataTablePagination",l),l.$inject=["$q"],b.module("md.data.table").directive("mdTableRow",m),m.$inject=["$mdTable","$timeout"],b.module("md.data.table").factory("$mdTable",n),b.module("md.data.table").decorator("$controller",o).factory("$mdEditDialog",p),o.$inject=["$delegate"],p.$inject=["$compile","$controller","$document","$mdUtil","$q","$rootScope","$templateCache","$templateRequest","$window"],b.module("md.data.table").controller("EditDialogController",q).directive("mdEditable",r),r.$inject=["$mdDialog","moment","$mdTable"],b.module("md.data.table").directive("mdFoot",s),b.module("md.data.table").directive("mdHead",t),t.$inject=["$compile"],b.module("md.data.table").directive("mdRow",u),b.module("md.data.table").directive("mdSelect",v),v.$inject=["$compile","$parse"],b.module("md.data.table").directive("mdSelectAll",w),b.module("md.data.table").directive("mdSelectRow",x),x.$inject=["$mdTable"],b.module("md.data.table").directive("mdSelectUpdateCallback",y),y.$inject=["$mdTable"],b.module("md.data.table").directive("mdTable",A),b.module("md.data.table").directive("mdTablePagination",B),b.module("md.data.table").filter("mdStartFrom",function(){return function(a,b){return a&&a.length?(b=+b,a.slice(b)):void 0}}),b.module("md.data.table").directive("mdTableProgress",C),b.module("md.data.table").directive("virtualPageSelect",D)}(window,angular);